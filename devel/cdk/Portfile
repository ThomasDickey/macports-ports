# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem      1.0

name            cdk
version         5.0-20250116

categories      devel
license         X11

maintainers     ThomasDickey

description     Curses Development Kit -- widgets for curses
long_description  \
    Cdk stands for \"Curses Development Kit\".  It contains a large number of \
    ready to use widgets which facilitate the speedy development of \
    full-screen curses programs.

homepage        https://invisible-island.net/cdk/
master_sites    https://invisible-island.net/archives/${name}/ \
                https://invisible-mirror.net/archives/${name}/
extract.suffix  .tgz

checksums       rmd160  2698a9ca33e58a97ca3cd68ded5c15a7752ba4c8 \
                sha256  1500d41224d50b72728ccafe23c4ee096bc8535fd6fdb9e876da4cdeeddadc83 \
                size    549798

depends_lib     port:ncurses

livecheck.type  regex
livecheck.url   [lindex ${master_sites} 0]
livecheck.regex cdk-(\[0-9\].\[0-9\]+-\[0-9\]+)

configure.args  --mandir=${prefix}/share/man \
                --with-libname=cdk \
                --with-screen=ncursesw

build.target    sources manpages cdklib

post-destroot {
    xinstall -m 755 -d ${destroot}${prefix}/share/doc/${name}
    xinstall -m 644 -W ${worksrcpath} CHANGES COPYING README VERSION \
        ${destroot}${prefix}/share/doc/${name}
    file copy ${worksrcpath}/cli \
            ${destroot}${prefix}/share/doc/${name}/cli
    file copy ${worksrcpath}/demos \
            ${destroot}${prefix}/share/doc/${name}/demos
    file copy ${worksrcpath}/examples \
            ${destroot}${prefix}/share/doc/${name}/examples
}
